<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_ng_template">
    <sp_ng_template action="INSERT_OR_UPDATE">
        <id>gservice_all_conversations_tab</id>
        <sp_widget display_value="GService Ticket Conversations">420f56b2dbf05410fa11cf24149619ab</sp_widget>
        <sys_class_name>sp_ng_template</sys_class_name>
        <sys_created_by>organize.henrique</sys_created_by>
        <sys_created_on>2020-05-19 17:39:55</sys_created_on>
        <sys_id>e9694b36dbb45410fa11cf24149619b1</sys_id>
        <sys_mod_count>162</sys_mod_count>
        <sys_name>gservice_all_conversations_tab</sys_name>
        <sys_package display_value="ITSM Service Portal" source="x_gmeps_itsm_servi">334ae627dbc85c105c1163901496192f</sys_package>
        <sys_policy/>
        <sys_scope display_value="ITSM Service Portal">334ae627dbc85c105c1163901496192f</sys_scope>
        <sys_update_name>sp_ng_template_e9694b36dbb45410fa11cf24149619b1</sys_update_name>
        <sys_updated_by>organize.jorge.garcia</sys_updated_by>
        <sys_updated_on>2020-05-29 18:52:34</sys_updated_on>
        <template><![CDATA[<div class="content_conversation_all">
  <div class="conversation_title">Histórico da Solicitação</div>
  <div ng-if="!data.canRead && !data.isNewRecord">
    ${Requested record not found}
  </div>

  <div ng-if="data.canRead && !data.isNewRecord">

    <div class="panel-heading">
      <div class="h2 panel-title panel-title-container">
        <div class="pull-right panel-title-icons">
          <ul>
            <li>
              <button href ng-show="data.showLocationIcon && data.canWrite" class="panel-button btn btn-link" ng-click="checkInLocation()" title="{{data.checkInLocMsg}}">
                <span class="glyphicon glyphicon-globe"></span>
              </button>
            </li>
            <li>
              <button href class="panel-button btn btn-link" ng-show="isNative" ng-click="scanBarcode()" title="{{data.scanBarcodeMsg}}">
                <span class="glyphicon glyphicon-barcode"></span>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="panel-body">
      <div ng-if="data.hasReadableJournalField">
        <div class="activity_content">
          <ul class="list-group m-b-none" ng-if="typing.length > 0">
            <li class="list-group-item user-typing m-t" ng-repeat="u in typing">${{{u.user_display_name}} is typing}</li>
          </ul>
          <ul class="list-group m-b-none m-t" ng-if="msg">
            <li class="list-group-item user-typing">{{msg}}</li>
          </ul>
          <ul role="list" class="timeline" aria-label="${Ticket history}">
            <li class="conversation_entries" role="listitem" aria-label="{{data.stream.user_full_name}}">
              <div class="conversation_mark"></div>
              <div class="conversation_action" ng-click="c.showForm()">
                ${Abertura da Solicitação}
                <span class="tooltip_right">${See summary}</span>
              </div>
              <div class="conversation_date">{{data.createdDate}}		{{data.createdTime}}</div>
            </li>
            <li class="conversation_entries" ng-repeat="e in data.mergedEntries | orderBy : 'sys_created_on_adjusted'">
              <div class="conversation_mark"></div>
              <div ng-style="{'border-color': getFieldColor(e.element)}">
                <div class="conversation_action">{{e.name}}</div>
                <div class="conversation_description">{{e.field_label}}</div>
                <div class="">
                  <div class="conversation_description" ng-if="(e.element != 'attachment')" ng-bind-html="e.value"></div>
                  <div ng-if="(e.element == 'attachment')">
                    <a ng-if="(e.attachment.state == 'available')" target="_blank" href="/sys_attachment.do?view=true&sys_id={{e.attachment.sys_id}}" title="${View}">
                      <img ng-if="e.attachment.thumbnail_path" alt="" ng-src="/{{e.attachment.path}}?t=medium" class="img-responsive"/>
                    </a>
                    <a ng-if="(e.attachment.state == '' || e.attachment.state == 'pending' || e.attachment.state == 'available_conditionally')" ng-click="scanAttachment(e.attachment)" href="javascript:void(0)" title="${View}">
                      <img ng-if="e.attachment.thumbnail_path" alt="" ng-src="/{{::e.attachment.path}}?t=medium" class="img-responsive"/>
                    </a>
                    <div>
                      <div ng-if="(e.attachment.state == 'available')">
                        <a href="/sys_attachment.do?sys_id={{e.attachment.sys_id}}" target="_blank" title="{{dataViewMsg}}"><strong>{{e.attachment.file_name}}</strong></a><br/>
                        {{e.attachment.size}}
                      </div>
                      <div ng-if="(e.attachment.state == 'not_available')">
                        <span title="{{dataViewMsg}}" class="not_available">{{e.attachment.file_name}}</span><br/>
                        <span class="error">{{data.scanFailedMsg}}</span>
                      </div>
                      <div ng-if="(e.attachment.state == '' || e.attachment.state == 'pending' || e.attachment.state == 'available_conditionally')">
                        <a href="javascript:void(0)" ng-click="scanAttachment(e.attachment)" title="{{dataViewMsg}}"><strong>{{e.attachment.file_name}}</strong></a><br/>
                        {{e.attachment.size}}
                      </div>
                    </div>
                  </div>
                </div>
                <div ng-if="e.showTranslation" class="translation-container">
                  <div ng-if="e.isTranslationInProgress">
                    <i class="translation-icon icon-translation"></i>
                    <span aria-live="polite">{{data.translation.translationProgressMsg}}</span>
                  </div>
                  <div ng-if="e.isTranslationSuccess">
                    <i class="translation-icon icon-translation"></i>
                    <a class="translate-link" role="button" href="javascript:void(0)" ng-click="toggleTranslation(e)">{{e.toggleMsg}}</a>
                    <span class="translation-credits">{{e.credits}}</span>
                    <div ng-if="e.showDetails" class="translation-message" ng-bind-html="e.translatedText">
                    </div>
                  </div>
                  <div ng-if="e.isTranslationError">
                    <i class="translation-icon icon-translation"></i>
                    {{e.translatedText}}
                    <a ng-if="e.tryAgain" role="button" href="javascript:void(0)" class="translate-link" ng-click="translateText(e, true)">{{data.translation.tryAgainMsg}}</a>
                  </div>
                </div>
              </div>
              <div class="conversation_date">{{e.createdDate}}		{{e.createdTime}}</div>
            </li>
          </ul>
        </div>

        <div class="conversation_form">
          <form ng-if="data.item_status != 'resolved'" ng-submit="postEntry(data.journalEntry)" id="sand">
            <div class="conversation_user">
              <img src="gservice_message.png"/>
              <span class="user_name">{{data.username}}</span>
            </div>
            <div ng-show="data.hasWritableJournalField" class="">
              <textarea ng-keypress="keyPress($event)" sn-resize-height="trim" rows="1" id="post-input" class="form-control no-resize overflow-hidden" ng-model='data.journalEntry' ng-model-options='{debounce: 250}' ng-attr-placeholder="{{getPlaceholder()}}" aria-label="{{getPlaceholder()}}" autocomplete="off" ng-change="userTyping(data.journalEntry)"/>
              <span class="journal-field-indicator" ng-style="({'background-color': data.useSecondaryJournalField ? data.secondaryJournalField.color : data.primaryJournalField.color})"></span>
            </div>

            <div ng-click="postEntry(data.journalEntry)">
              <img src="gservice_dashboard_submit.png"/>
              <span class="submit_name">Enviar</span>
              <!-- <input type="submit" class="btn btn-primary" value="{{data.btnLabel}}" ng-disabled="data.isPosting"/> -->
            </div>

            <div ng-if="(data.secondaryJournalField && data.secondaryJournalField.can_write)">
              <label class="pull-right">
                <input type="checkbox" ng-model="data.useSecondaryJournalField" ng-change="updateFormWithJournalFields()"/>
                <span> {{data.secondaryJournalField.label}}</span>
              </label>
            </div>
          </form>
        </div>

      </div>

      <div ng-if="!data.hasReadableJournalField">
        {{options.no_readable_journal_field_message}}
      </div>

    </div>

  </div>
</div>

<sp-widget ng-if="data.item_status != 'resolved'" widget="data.gservice_ticket_attachment"></sp-widget>

<div class="modal fade modal_article" id="moreDetailsModal" tabindex="-1" role="dialog" aria-labelledby="articleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>

        <span>${Solicitação} ${#}{{data.ticketInfo.ticketNumber}}</span>
        <div>${Data de Abertura}: {{data.ticketInfo.openedAt}}</div>
        <div>${Resumo da solicitação}: {{data.ticketInfo.summary}}</div>
        <div>${Detalhes da solicitação}:</div>

        <div ng-repeat="variable in data.variables">
          {{variable.label}} : {{variable.display_value}}
        </div>

      </div>
    </div>
  </div>
</div>]]></template>
    </sp_ng_template>
</record_update>
