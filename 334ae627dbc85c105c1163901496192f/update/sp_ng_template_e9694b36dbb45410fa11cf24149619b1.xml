<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_ng_template">
    <sp_ng_template action="INSERT_OR_UPDATE">
        <id>gservice_all_conversations_tab</id>
        <sp_widget display_value="GService Custom Conversation">4521b25bdb491c905c1163901496193f</sp_widget>
        <sys_class_name>sp_ng_template</sys_class_name>
        <sys_created_by>organize.henrique</sys_created_by>
        <sys_created_on>2020-05-19 17:39:55</sys_created_on>
        <sys_id>e9694b36dbb45410fa11cf24149619b1</sys_id>
        <sys_mod_count>215</sys_mod_count>
        <sys_name>gservice_all_conversations_tab</sys_name>
        <sys_package display_value="ITSM Service Portal" source="x_gmeps_itsm_servi">334ae627dbc85c105c1163901496192f</sys_package>
        <sys_policy/>
        <sys_scope display_value="ITSM Service Portal">334ae627dbc85c105c1163901496192f</sys_scope>
        <sys_update_name>sp_ng_template_e9694b36dbb45410fa11cf24149619b1</sys_update_name>
        <sys_updated_by>organize.jorge.garcia</sys_updated_by>
        <sys_updated_on>2020-06-03 14:54:58</sys_updated_on>
        <template><![CDATA[<pre>{{c.data.table}}</pre>
<pre>{{c.data.sys_id}}</pre>
<div class="content_conversation_all">
  <div class="conversation_title">Histórico da Solicitação</div>

  <div>
    <div class="panel-body">
      <div class="activity_content">
        <ul role="list" class="timeline" aria-label="${Ticket history}">
          <li class="conversation_entries conversation_fixed" role="listitem" aria-label="{{data.stream.user_full_name}}">
            <div class="conversation_mark"></div><span class="hide_timeline_property"></span><span class="new_radio_mark"></span>
            <div class="conversation_fixed_text">
              <div class="conversation_action" ng-click="c.showForm()">
                ${Abertura da Solicitação}
                <span class="tooltip tooltip_top">
                  <div class="tooltip_text">${See summary}</div>
                  <div class="arrow_left">a</div>
                </span>
              </div>
              <div class="conversation_date">{{data.createdDate}}		{{data.createdTime}}</div>
            </div>
          </li>

          <li class="conversation_entries conversation_dynamic" ng-repeat="e in data.mergedEntries">
            <div class="conversation_mark"></div>
            <div ng-style="{'border-color': getFieldColor(e.element)}">
              <div class="conversation_action">{{e.name}}</div>
              <div class="conversation_description">{{e.field_label}}</div>
              <div class="">
                <div class="conversation_description" ng-if="(e.element != 'attachment')" ng-bind-html="e.value"></div>
                <div ng-if="(e.element == 'attachment')">
                  <a ng-if="(e.attachment.state == 'available')" target="_blank" href="/sys_attachment.do?view=true&sys_id={{e.attachment.sys_id}}" title="${View}">
                    <img ng-if="e.attachment.thumbnail_path" alt="" ng-src="/{{e.attachment.path}}?t=medium" class="img-responsive"/>
                  </a>
                  <a ng-if="(e.attachment.state == '' || e.attachment.state == 'pending' || e.attachment.state == 'available_conditionally')" ng-click="scanAttachment(e.attachment)" href="javascript:void(0)" title="${View}">
                    <img ng-if="e.attachment.thumbnail_path" alt="" ng-src="/{{::e.attachment.path}}?t=medium" class="img-responsive"/>
                  </a>
                  <div>
                    <div ng-if="(e.attachment.state == 'available')">
                      <a href="/sys_attachment.do?sys_id={{e.attachment.sys_id}}" target="_blank" title="{{dataViewMsg}}"><strong>{{e.attachment.file_name}}</strong></a><br/>
                      {{e.attachment.size}}
                    </div>
                    <div ng-if="(e.attachment.state == 'not_available')">
                      <span title="{{dataViewMsg}}" class="not_available">{{e.attachment.file_name}}</span><br/>
                      <span class="error">{{data.scanFailedMsg}}</span>
                    </div>
                    <div ng-if="(e.attachment.state == '' || e.attachment.state == 'pending' || e.attachment.state == 'available_conditionally')">
                      <a href="javascript:void(0)" ng-click="scanAttachment(e.attachment)" title="{{dataViewMsg}}"><strong>{{e.attachment.file_name}}</strong></a><br/>
                      {{e.attachment.size}}
                    </div>
                  </div>
                </div>
              </div>
              <div ng-if="e.showTranslation" class="translation-container">
                <div ng-if="e.isTranslationInProgress">
                  <i class="translation-icon icon-translation"></i>
                  <span aria-live="polite">{{data.translation.translationProgressMsg}}</span>
                </div>
                <div ng-if="e.isTranslationSuccess">
                  <i class="translation-icon icon-translation"></i>
                  <a class="translate-link" role="button" href="javascript:void(0)" ng-click="toggleTranslation(e)">{{e.toggleMsg}}</a>
                  <span class="translation-credits">{{e.credits}}</span>
                  <div ng-if="e.showDetails" class="translation-message" ng-bind-html="e.translatedText">
                  </div>
                </div>
                <div ng-if="e.isTranslationError">
                  <i class="translation-icon icon-translation"></i>
                  {{e.translatedText}}
                  <a ng-if="e.tryAgain" role="button" href="javascript:void(0)" class="translate-link" ng-click="translateText(e, true)">{{data.translation.tryAgainMsg}}</a>
                </div>
              </div>
            </div>
            <div class="conversation_date">{{e.createdDate}}		{{e.createdTime}}</div>
          </li>

        </ul>
      </div>

      <div class="conversation_form">
        <form ng-if="data.item_status != 'resolved'" ng-submit="c.postEntry(data.journalEntry)" id="sand">
          <div class="conversation_user">
            <img src="gservice_message.png"/>
            <span class="user_name">{{data.username}}</span>
          </div>
          <div class=""> <!--ng-show="data.hasWritableJournalField"-->
            <textarea ng-keypress="keyPress($event)" sn-resize-height="trim" rows="1" id="post-input" class="form-control no-resize overflow-hidden" ng-model='data.journalEntry' ng-model-options='{debounce: 250}' ng-attr-placeholder="{{getPlaceholder()}}" aria-label="{{getPlaceholder()}}" autocomplete="off" ng-change="userTyping(data.journalEntry)"/>
            <span class="journal-field-indicator" ng-style="({'background-color': data.useSecondaryJournalField ? data.secondaryJournalField.color : data.primaryJournalField.color})"></span>
          </div>

          <div ng-click="c.postEntry(data.journalEntry)">
            <img src="gservice_dashboard_submit.png"/>
            <span class="submit_name">Enviar</span>
          </div>
        </form>
      </div>

    </div>
  </div>

</div>

<sp-widget ng-if="data.item_status != 'resolved'" widget="data.gservice_ticket_attachment"></sp-widget>

<div class="modal fade modal_article" id="moreDetailsModal" tabindex="-1" role="dialog" aria-labelledby="articleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="panel-body wrapper-xl">
          <span class="turn_bold color_change title_property">${Solicitação} ${#}{{data.ticketInfo.ticketNumber}}</span>
          <div class="turn_bold color_change">${Data de Abertura}: {{data.ticketInfo.openedAt}}</div>
          <div><span class="turn_bold">${Resumo da solicitação}: </span>{{data.ticketInfo.summary}}</div>
          <div class="turn_bold color_change">${Detalhes da solicitação}:</div>
          <div ng-repeat="variable in data.variables">
            <span class="turn_bold">{{variable.label}} : </span>{{variable.display_value}}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>]]></template>
    </sp_ng_template>
</record_update>
