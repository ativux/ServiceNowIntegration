<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_header_footer">
    <sp_header_footer action="INSERT_OR_UPDATE">
        <category>standard</category>
        <client_script><![CDATA[function ($rootScope, $scope, snRecordWatcher, spUtil, $location, $uibModal, cabrillo, $timeout, $window) {
	var c = this;
	
	$scope.kb_categories = c.data.kb_categories;
	
	c.sendKBCategories = true;
	c.categoryID = false;
	c.secondCategory = false;
	//Redirect users that aren`t managers
	if(c.data.redirect){
		$window.location = "?id=globoservice_index";
	}

	$scope.$watch(function() {
		return c.data.sendKBCategories;
	}, function(value) {
		if(c.data.sendKBCategories){
			$timeout(function(){
				$rootScope.$broadcast("getKBCategoriesInfo", c.data.kb_categories);
				c.data.sendKBCategories = false;
			}, 500);
		}
	});

	$scope.collapse = function() {
		$rootScope.$emit('sp-navbar-collapse');
	}

	$scope.avatarProfile = {
		userID: $scope.user.sys_id,
		name: $scope.user.name,
		initials: $window.NOW.user_initials
	};

	if ($window.NOW.user_avatar) {
		$scope.avatarProfile.userImage = $window.NOW.user_avatar;
	}
	var a = "";

	if (cabrillo.isNative()) {
		if ($window.innerWidth < 767) {
			$scope.isViewNative = true;
		} else {
			$scope.isViewNativeTablet = true;
		}
	}

	$scope.openPopUp = function() {
		var url = "$chat_support.do?queueID=" + $scope.data.connect_support_queue_id;
		var popup = window.open (url, "popup", "width=900, height=600");
	};

	$scope.openLogin = function () {
		$scope.modalInstance = $uibModal.open({
			templateUrl: 'modalLogin',
			scope: $scope
		});
	};

	var xsScreenSize = isXSScreenSize();
	$scope.showXSAvatar = isXSScreenSize();
	$scope.showAvatar = !isXSScreenSize();

	$scope.isAgentChatConfigured = g_has_agent_chat_config;

	angular.element($window).on('resize', function () {
		if(xsScreenSize !== isXSScreenSize() && (!$scope.showXSAvatar || !$scope.showAvatar)){
			$scope.showXSAvatar = true;
			$scope.showAvatar = true;
		}
	});


	function isXSScreenSize() {
		return $window.matchMedia('(max-width: 767px)').matches;
	}

	$rootScope.$on('sp.avatar_changed', function(evt, obj) {
		$scope.userID = "";
		$scope.newAvatarId = obj.newAvatarId;
		$timeout(function(){
			$scope.userID = $scope.user.sys_id;
			$(".sub-avatar").css("background-image", 'url("' + $scope.newAvatarId + '.iix?t=small")');
		});
	});

	$scope.isHomepage = function() {
		if (!$scope.page.id)
			return true;

		if ($scope.page.id == $scope.portal.homepage_dv)
			return true;

		return false;
	};

	c.selectedSecondCategory = function(category, secCategory, index){
		if(secCategory.url){
			c.data.menuSelected = 0;
			if(c.data.page_id == null || c.data.page_id == "globoservice_index"){
				$rootScope.$broadcast('goToSecondCategory', category.sys_id, secCategory);
			}
			else{
				$location.search("id=globoservice_index&category_id=" + secCategory.sys_id);
			}

		}
		else{
			c.server.get({
				action: "selectedSecondCategory",
				category: secCategory
			}).then(function(response) {
				for(i in c.data.categories[index].secondCategories){
					c.data.categories[index].secondCategories[i].selected = false;
				}
				secCategory.selected = true;
				c.data.thirdCategories = response.data.thirdCategories;
				c.data.showThirdCategories = response.data.showThirdCategories;
				c.data.showItems = response.data.showItems;
				c.data.subcategorySelected = response.data.subcategorySelected;
				c.data.items = response.data.items;
				c.secondCategory = secCategory;
				c.categoryID = category.sys_id;
			});
		}

	}

	c.selectedThirdCategory = function(thirdCategory){
		if(thirdCategory.url){
			c.data.menuSelected = 0;
			if(c.data.page_id == null || c.data.page_id == "globoservice_index"){
				$rootScope.$broadcast('goToThirdCategory', c.categoryID, c.secondCategory, thirdCategory);
			}
			else{
				$location.search("id=globoservice_index&category_id=" + thirdCategory.sys_id);
			}

		}
		else{
			c.server.get({
				action: "selectedThirdCategory",
				category: thirdCategory
			}).then(function(response) {
				cleanSelection("clearThird");
				thirdCategory.selected = true;
				c.data.subcategorySelected = response.data.subcategorySelected;
				c.data.items = response.data.items;
				c.data.showItems = response.data.showItems;
			});
		}
	}

	c.showItem = function(itemID){
		if(c.data.page_id == null || c.data.page_id == "globoservice_index"){
			c.data.menuSelected = 0;
			$rootScope.$broadcast('openSelectedCategoryItem', false, itemID);
			cleanSelection("clearCatalog");
		}
		else{
			$location.search("id=globoservice_index&item_id=" + itemID);
		}

	}

	c.goHome = function(page){
		$location.url('?id=globoservice_index');
		spUtil.scrollTo('.sp-scroll', 300);
	}

	c.openDropDown = function(item){
		cleanSelection("clearAll");
		if(item == c.data.menuSelected && c.data.menuSelected != 2){
			c.data.menuSelected = 0;
		}
		else{
			c.data.menuSelected = item;

			if(item == 2){
				$rootScope.$broadcast('showHideWidget', "error");
			}
			else if(item == 3){
				c.data.showItems = false;
				c.data.thirdCategories = false;

				for(var i in c.data.categories){
					for(var j in c.data.categories[i].categories){
						c.data.categories[i].categories[j].selected = false;
					}
				}
			}
		}
	}

	c.showAll = function(category){
		for(var i in c.data.categories){
			if(c.data.categories[i].sys_id == category.sys_id){
				c.data.categories[i].showAll = !c.data.categories[i].showAll;
			}
			else{
				c.data.categories[i].showAll = false;
			}
			for(var j in c.data.categories[i].secondCategories){
				c.data.categories[i].secondCategories[j].selected = false;
			}
		}
		c.data.thirdCategories = false;
		c.data.showItems = false;
	}

	c.showAllKB = function(category){
		for(var i in c.data.kb_categories){
			if(c.data.kb_categories[i].sys_id == category.sys_id){
				c.data.kb_categories[i].showAll = !c.data.kb_categories[i].showAll;
			}
			else{
				c.data.kb_categories[i].showAll = false;
			}
		}
		c.data.thirdCategories = false;
		c.data.showItems = false;
	}

	$scope.$on('hideSideMenu', function (event) {
		c.data.menuSelected = 0;
	});

	cleanSelection = function(type){
		if(type == "clearAll" || "clearCatalog"){
			//Clean catalog categories and subcategories selected
			for(var i in c.data.categories){
				c.data.categories[i].showAll = false;
				for(var j in c.data.categories[i].secondCategories){
					c.data.categories[i].secondCategories[j].selected = false;
				}
			}
		} 
		if(type == "clearAll" || "clearKB"){
			for(i in c.data.kb_categories){
				c.data.kb_categories[i].showAll = false;
			}
		}
		if(type == "clearThird"){
			for(i in c.data.thirdCategories){
				c.data.thirdCategories[i].selected = false;
			}
		}
	}

	c.doYourself = function(){
		if(c.data.page_id == null || c.data.page_id == "globoservice_index"){
			$rootScope.$broadcast('showHideWidget', "do_yourself");
			c.data.menuSelected = 0;
		}
		else{
			$location.search("id=globoservice_index&do_yourself=true");
		}
	}

	c.toKnowledge = function(knowledge_id){
		if(c.data.page_id == null || c.data.page_id == "globoservice_index"){
			$rootScope.$broadcast("kb_category", knowledge_id);
			c.data.menuSelected = 0;
		}
		else{
			$location.search("id=globoservice_index&knowledge_id=" + knowledge_id);
		}
	}

	c.openServices = function(){
		$location.url('?id=globoservice_services');
	}

	c.goBackend = function(){
		$window.open(c.data.instance_url,'_blank');
	}
	if(c.data.kb_selected){
		setTimeout(function(){
			$rootScope.$broadcast("kb_category", c.data.knowledge_id);
		}, 1000);
	}


}]]></client_script>
        <controller_as>c</controller_as>
        <css>.navbar {&#13;
  transition: 250ms opacity ease-in-out;&#13;
  -webkit-transition: 250ms opacity ease-in-out;&#13;
  border: 0;&#13;
  border-bottom: 5px solid $body-bg !important;&#13;
&#13;
  /* GSERVICE HEADER TEXT */&#13;
  padding-left: 10%;&#13;
  font-family: $text-bold;&#13;
  transition-property: padding-top;&#13;
  transition-duration: .2s;&#13;
  min-height: 120px;&#13;
}&#13;
&#13;
// Space Items&#13;
.nav &gt; li &gt; a {&#13;
  padding: 10px 0 !important;&#13;
}&#13;
&#13;
/* scroll-line */&#13;
.navbar-fade {&#13;
  opacity: .4;&#13;
}&#13;
&#13;
.navbar-inverse .navbar-toggle {&#13;
  border-color: rgba(255, 255, 255, 0.25);&#13;
}&#13;
.navbar-inverse .navbar-toggle:hover, .navbar-inverse .navbar-toggle:focus {&#13;
  background-color: white !important;&#13;
}&#13;
.navbar-inverse .navbar-toggle:hover {&#13;
  .context_menu {&#13;
    div {&#13;
      margin: 6px 0;&#13;
    }&#13;
  }&#13;
}&#13;
&#13;
header[role="banner"],&#13;
.nav &gt; li &gt; a {&#13;
  max-height: 60px;&#13;
}&#13;
&#13;
.navbar-brand {&#13;
  position: absolute;&#13;
  top: 8px;&#13;
  left: 142px;&#13;
  padding: 0;&#13;
  padding-bottom: 0.5rem;&#13;
  margin-top: 10px;&#13;
}&#13;
&#13;
.navbar-brand img, .navbar-brand span {&#13;
  margin-left: $sp-logo-margin-x;&#13;
  margin-right: $sp-logo-margin-x;&#13;
  margin-top: $sp-logo-margin-y;&#13;
  margin-bottom: $sp-logo-margin-y;&#13;
  display: block;&#13;
  position: relative;&#13;
  top: 50%;&#13;
  -webkit-transform: translateY(-50%);&#13;
  -ms-transform: translateY(-50%);&#13;
  transform: translateY(-50%);&#13;
  font-size: 50px;&#13;
  font-family: $text-light;&#13;
  text-transform: uppercase;&#13;
  color: $deep-sky-blue;&#13;
  width: 254px;&#13;
}&#13;
.header-menu-item a {&#13;
  color: $blue;&#13;
}&#13;
&#13;
/* GSERVICE HEADER TEXT */&#13;
.navbar-brand span::first-letter {&#13;
  font-family: $text-bold;&#13;
  font-weight: bold;&#13;
}&#13;
&#13;
.breadcrumb-container {&#13;
  background-color: $panel-bg;&#13;
}&#13;
&#13;
/* Responsive */&#13;
.context_menu {&#13;
  width: 30px;&#13;
  height: 30px;&#13;
&#13;
  div {&#13;
    transition: .2s ease-in-out;&#13;
    width: 100%;&#13;
    height: 4px;&#13;
    border-radius: 2px;&#13;
    background-color: $blue;&#13;
    margin: 5px 0;&#13;
  }&#13;
}&#13;
@media screen and (max-width: 1176px){&#13;
  .navbar-brand {&#13;
    position: relative;&#13;
    left: 0px;&#13;
  }&#13;
  .navbar-right .navbar-nav {&#13;
    margin: 0;&#13;
    margin-top: 10px;&#13;
  }&#13;
}&#13;
/* for mobile app */&#13;
.navbar-inverse.is-native {&#13;
  background-color: #405060;&#13;
}&#13;
&#13;
nav {&#13;
  margin-bottom: 0px;&#13;
  border-radius: 0px;&#13;
&#13;
  .toggle-dropdown {&#13;
    height: 60px;&#13;
  }&#13;
}&#13;
&#13;
.navbar-right {&#13;
  padding: 15px 0 10px 7px;&#13;
  margin-right: 100px;&#13;
}&#13;
.navbar-nav {&#13;
  margin: 0;&#13;
  margin-top: 40px;&#13;
}&#13;
&#13;
// PRB711244: Dropdown menu is scrollable when too many items&#13;
.scrollable-dropdown {&#13;
  max-height: 80vh;&#13;
  overflow: auto;&#13;
  height: auto;&#13;
}&#13;
&#13;
.is-native {&#13;
  .scrollable-dropdown {&#13;
    max-height: 100vh;&#13;
    overflow: scroll;&#13;
    height: auto;&#13;
  }&#13;
}&#13;
&#13;
/* Portal title styling */&#13;
.portal-title-initial, .portal-title-without-initial {&#13;
  display: block;&#13;
}&#13;
&#13;
/* SIDEBAR STYLES */&#13;
.sidebar_menu {&#13;
  width: 90px;&#13;
  position: fixed;&#13;
  left: 0;&#13;
  top: 120px;&#13;
  z-index: 1002;&#13;
  background-color: $body-bg;&#13;
&#13;
  .icon_home {&#13;
    width: 90px;&#13;
    height: 90px;&#13;
  }&#13;
&#13;
  div {&#13;
    margin-bottom: 5px;&#13;
&#13;
    img {&#13;
      transition: .2s ease-in-out;&#13;
      width: 100%;&#13;
    }&#13;
    &amp;:hover { img { width: 100px; } }&#13;
  }&#13;
  div:last-child {&#13;
    margin-bottom: 0;&#13;
  }&#13;
}&#13;
&#13;
/* Dropdown */&#13;
.dropdown-bg {&#13;
  position: fixed;&#13;
  z-index: 1000;&#13;
  left: 0;&#13;
  width: 100%;&#13;
  height: 100%;&#13;
  background-color: black;&#13;
  opacity: .5;&#13;
  cursor: default;&#13;
}&#13;
.dropdown-third-item {&#13;
  transition: .4s ease-in-out;&#13;
  padding: 40px 40px 40px 30px;&#13;
  background-color: rgba(255,255,255,.95);&#13;
  position: fixed;&#13;
  z-index: 1001;&#13;
  top: 120px;&#13;
  left: 90px;&#13;
  color: $slate-gray;&#13;
  font-weight: bold;&#13;
  display: flex;&#13;
  align-items: flex-start;&#13;
  height: calc(100% - 180px);&#13;
  overflow: auto;&#13;
&#13;
  .dropdown-column {&#13;
    margin-left: 20px;&#13;
    padding-left: 20px;&#13;
    margin-right: 10px;&#13;
    border-left: 2px solid $tec;&#13;
&#13;
    .separate_services {&#13;
      width: 100%;&#13;
      height: 2px;&#13;
      background-color: $tec;&#13;
      margin: 28px 0;&#13;
    }&#13;
    &#13;
    .separate_doubts {&#13;
      width: 100%;&#13;
      height: 2px;&#13;
      background-color: $doubts;&#13;
      margin: 28px 0;&#13;
    }&#13;
&#13;
    &amp;:first-child {&#13;
      margin-left: 0;&#13;
      padding-left: 0;&#13;
      border: 0;&#13;
    }&#13;
    &amp;:last-child { margin-right: 0; }&#13;
&#13;
    .category-subcategory {&#13;
      margin-top: 15px;&#13;
      &amp;:first-child { margin-top: 0; }&#13;
&#13;
      .category {&#13;
        font-size: 16px;&#13;
        color: $tec;&#13;
        text-transform: uppercase;&#13;
        margin-bottom: 5px;&#13;
        display: flex;&#13;
        align-items: center;&#13;
&#13;
        .arrow-size {&#13;
          transition: .6s ease-in-out;&#13;
          width: 20px;&#13;
          margin-left: 5px;&#13;
        }&#13;
        .invert-arrow {&#13;
          transform: rotate(180deg);&#13;
        }&#13;
      }&#13;
      .category_kb {&#13;
        color: $doubts;&#13;
      }&#13;
    }&#13;
    .subcategory {&#13;
      &amp;:hover {&#13;
        color: $tec;&#13;
      }&#13;
    }&#13;
    .subcategory_kb {&#13;
      &amp;:hover {&#13;
        color: $doubts;&#13;
      }&#13;
    }&#13;
    .category-selected {&#13;
      color: $tec;&#13;
    }&#13;
&#13;
  }&#13;
}&#13;
&#13;
.dropdown_close {&#13;
  left: -382px !important;&#13;
  opacity: 0;&#13;
}&#13;
.dropdown_open {&#13;
  left: 90px !important;&#13;
  opacity: 1;&#13;
}&#13;
&#13;
.mobile_message {&#13;
  background-color: rgba(255, 255, 255, .95);&#13;
  position: fixed;&#13;
  top: 0;&#13;
  left: 0;&#13;
  width: 100%;&#13;
  height: 100%;&#13;
  z-index: 1003;&#13;
  display: flex;&#13;
  flex-direction: column;&#13;
  align-items: center;&#13;
  justify-content: center;&#13;
  text-align: center;&#13;
  color: $slate-gray;&#13;
  padding: 20px;&#13;
&#13;
  .mobile_service_icon {&#13;
    width: 50px;&#13;
    margin-bottom: 10px;&#13;
  }&#13;
  .mobile_service_logos {&#13;
    width: 200px;&#13;
  }&#13;
  .message_title, .message {&#13;
    font-size: 14px;&#13;
  }&#13;
  .message_title {&#13;
    padding: 0 40px;&#13;
    font-family: $text-bold;&#13;
    color: $dodger-blue;&#13;
  }&#13;
  .message { margin: 18px 0; }&#13;
  .no_margin { margin-bottom: 0; }&#13;
}&#13;
&#13;
/* PRB923910: Fix for Service Portal - Header Poorly Aligned in Safari */&#13;
@media screen and (min-width: 768px) {&#13;
  .navbar-right {&#13;
    display: flex !important;&#13;
  }&#13;
}&#13;
&#13;
@media screen and (max-width: 768px){&#13;
  .nav &gt; li &gt; a {&#13;
    padding: 10px 0 !important;&#13;
  }&#13;
  .navbar-brand {&#13;
    position: absolute;&#13;
  }&#13;
}&#13;
@media only screen and (max-width: 992px) {&#13;
  .navbar-brand {&#13;
    left: 100px;&#13;
  }&#13;
}&#13;
@media only screen and (max-width: 768px) {&#13;
  .navbar {&#13;
    border: 0 !important;&#13;
  }&#13;
  .sidebar_menu, .content-avatar {&#13;
    display: none;&#13;
  }&#13;
  .navbar-brand {&#13;
    left: 0;&#13;
  }&#13;
}&#13;
&#13;
/* Fix overflow*/&#13;
@media only screen and (max-height: 700px) {&#13;
&#13;
  ::-webkit-scrollbar {&#13;
    width: 10px;&#13;
  }&#13;
  ::-webkit-scrollbar-button:start {&#13;
    display: none;&#13;
  }&#13;
&#13;
  .sidebar_menu{&#13;
    height: calc(100vh - 120px);&#13;
    overflow: auto;&#13;
    width: 110px;&#13;
    /* width */&#13;
&#13;
    div &gt; img:hover{ &#13;
      width: 100%;&#13;
    }&#13;
&#13;
    div &gt; img{&#13;
      width: 90%;&#13;
    }&#13;
  }&#13;
}&#13;
&#13;
&#13;
@media only screen and (max-width: 400px) {&#13;
  header {&#13;
    height: 75px !important;&#13;
  }&#13;
&#13;
  .sp-page-root header {&#13;
		height: 85px !important;&#13;
  }&#13;
&#13;
  .navbar-brand {&#13;
    top: 0;&#13;
    margin-top: 0;&#13;
    padding: 0;&#13;
    height: 70px;&#13;
    img {&#13;
      top: 30%; &#13;
    }&#13;
  }&#13;
&#13;
&#13;
}&#13;
&#13;
&#13;
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id>gservice_stock_header</id>
        <internal>false</internal>
        <link><![CDATA[function(scope, element) {
	$(document).keyup(function(event) {
		if (event.which == 9 || event.which == 37 || event.which == 39) { //tab key handler + arrow keys
			if ($(event.target).parents(".dropdown-menu").length == 0) { //if we are NOT inside a dropdown...
				//close the dropdowns
				$(".dropdown").removeClass("open");
				$("[data-toggle='dropdown']").attr("aria-expanded", "false");
			}
		}
	});

	$(element).on('click.nav','.navbar-collapse.in',function(e) {
		var target = $(e.target);
		if (target.is('a')) {
			if (target.hasClass('sp-menu-has-items'))
				return; // menu item has a submenu, so just toggle it

			// collapse mobile nav if clicked an anchor
			$(this).removeClass('in').addClass('collapse');
			return;
		}

		if (target.parent().hasClass("toggle-dropdown")) {
			// collapse mobile nav if parent has toggle-dropdown class
			$(this).removeClass('in').addClass('collapse');
			return;
		}

		// if neither target nor parent is an anchor, do nothing
		if (!target.parent().is('a'))
			return;

		// collapse mobile nav if target is part of a submenu
		if (target.parents("ul.dropdown-menu").length > 0)
			$(this).removeClass('in').addClass('collapse');
	});
	
	$(document).on("wheel", ".sp-scroll", function(event){
		$("#header-navbar").addClass("scroll-navbar");
		if(event.originalEvent.deltaY > 0)
			$("#header-navbar").addClass("scroll-navbar");	
		
		if($(".sp-scroll").scrollTop() < 100)
			$("#header-navbar").removeClass("scroll-navbar");	
		
	});
}]]></link>
        <name>GService Stock Header</name>
        <option_schema/>
        <public>true</public>
        <roles/>
        <script><![CDATA[// Defines the support queue ID that will be linked to by the Live Chat link in header
(function() {
	var localInput = input;
	var portalUtils = new global.OCLPortalUtils();
	data.device = portalUtils.getDeviceType();
	data.sendKBCategories = false;
	data.sendKBCategories = !page_id || page_id == "globoservice_index";
	data.showBackend = portalUtils.userHasRoles();
	data.items = [];
	data.thirdCategories = [];
	data.show_survey = false;
	data.kb_selected = false;
	data.knowledge_id = $sp.getParameter("knowledge_id");
	data.instance_url = gs.getProperty('glide.servlet.uri');
	if(data.knowledge_id){
		data.kb_selected = true;
	}
	var surveyUtils = new global.OCLPortalSurveyUtils();
	var survey_id = surveyUtils.getSurveyId();
	if(survey_id){
		data.show_survey = true;
		var survey_options = {"survey_id": survey_id};
		data.gserviceSurvey = $sp.getWidget('gservice_survey_modal', survey_options);
	}

	if(!localInput){
		var page_id = $sp.getParameter("id");
		data.sendKBCategories = !page_id || page_id == "globoservice_index";

		data.menuSelected = 0;
		data.page_id = $sp.getParameter("id");

		data.isManager = gs.getUser().isMemberOf(gs.getProperty("gservice_gestor_page_group")) || gs.getUser().isMemberOf(gs.getProperty("gservice_csc_manager_group"));
		data.isAdmin = gs.getUser().hasRole('admin');
		if(data.page_id == 'globoservice_manager'){
			if(!data.isManager){
				if(!data.isAdmin){
					data.redirect = true;
				}
			}
		}

		data.connect_support_queue_id = $sp.getValue('sp_chat_queue');
		data.login_page = $sp.getValue('login_page');
		data.profileBtnMsg = gs.getMessage("User options");
		var menu = $sp.getValue("sp_rectangle_menu");
		data.menu = $sp.getWidgetFromInstance(menu);
		if (data.menu && data.menu.data) {
			data.menu.data.replace = true;
			// Hide login if menu already has link to login
			data.hasLogin = false;
			if (data.menu.data.menu.items) {
				for(var i in data.menu.data.menu.items) {
					var item = data.menu.data.menu.items[i];
					if (item.type == 'page' && item.sp_page == data.login_page)
						data.hasLogin = true;
				}
			}
		}

		data.loginWidget = $sp.getWidgetFromInstance('login-modal');

		//Menu "Reporte um erro"

		/////////////////////////////////////////////////////////////////////////////////////////////////

		//Menu "Solicite um serviço"

		var categories = gs.getProperty("gservice_categories").split(",");
		var query = "";
		for (i in categories){
			if(query == ""){
				query = "sys_id=" + categories[i];
			}
			else{
				query+= "^ORsys_id=" + categories[i];
			}
		}
		data.categories = portalUtils.lateralMenuCategories(query);
		var portalKB = gs.getProperty("gservice_portal_kb");
		var catalogCategories = gs.getProperty("gservice_categories");
		catalogCategories = catalogCategories.split(",");

		data.kb_categories = portalUtils.getCategoriesKB(portalKB, catalogCategories);
	}
	else{
		switch(localInput.action){
			case "selectedSecondCategory":
				data.thirdCategories = portalUtils.getSubcategories(localInput.category.sys_id, localInput.category.title);

				if(data.thirdCategories.length != 0){
					data.showThirdCategories = true;
					data.showItems = false;
				}
				else{
					data.showThirdCategories = false;
					data.subcategorySelected = true;
					data.items = portalUtils.getItems(localInput.category.sys_id);
					if(data.items.length > 0){
						data.showItems = true;
					}
				}
				break;
			case "selectedThirdCategory":
				data.subcategorySelected = true;
				data.items = portalUtils.getItems(localInput.category.sys_id);
				if(data.items.length > 0){
					data.showItems = true;
				}
				break;
		}
	}
})()]]></script>
        <servicenow>false</servicenow>
        <static>false</static>
        <sys_class_name>sp_header_footer</sys_class_name>
        <sys_created_by>organize.vinicius.oliveira</sys_created_by>
        <sys_created_on>2020-04-14 18:00:53</sys_created_on>
        <sys_id>578e7263db80dc10fa11cf24149619e7</sys_id>
        <sys_mod_count>1049</sys_mod_count>
        <sys_name>GService Stock Header</sys_name>
        <sys_package display_value="ITSM Service Portal" source="x_gmeps_itsm_servi">334ae627dbc85c105c1163901496192f</sys_package>
        <sys_policy/>
        <sys_scope display_value="ITSM Service Portal">334ae627dbc85c105c1163901496192f</sys_scope>
        <sys_update_name>sp_header_footer_578e7263db80dc10fa11cf24149619e7</sys_update_name>
        <sys_updated_by>accenture.emily</sys_updated_by>
        <sys_updated_on>2021-12-07 16:27:58</sys_updated_on>
        <template><![CDATA[<div class="content">

  <!-- SIDE BAR -->
  <div class="icon-bar sidebar_menu" ng-if="data.page_id != 'globoservice_report_incident'">
    <div ng-click="c.openDropDown(2)"><img src="GS_ACESSORAPIDO_ERRO.png"></div>
    <div ng-click="c.openDropDown(3)"><img src="GS_ACESSORAPIDO_SERVICO.png"></div>
    <div ng-click="c.doYourself()"><img src="GS_ACESSORAPIDO_AUTO.png"></div>
    <div ng-click="c.openDropDown(5)"><img src="GS_ACESSORAPIDO_DUVIDAS.png"></div>
    <div ng-click="c.goBackend()" ng-if="data.showBackend"><img src="GService_StyleGuide_V1_AR_PORTAL.png"></div>
    <div ng-click="c.openServices()"><img src="GS_ACESSORAPIDO_INDISP.png"></div>
  </div>
  
  <div ng-click="c.openDropDown(0)" class="dropdown-bg" ng-show="c.data.menuSelected != 0 && c.data.menuSelected != 2"></div>

  <!-- Reporte um erro -->
  <div>
    <widget id="gservice_error_modal"></widget>
  </div>

  <!-- Solicite um Serviço -->
  <div class="dropdown-third-item dropdown_services" ng-class="c.data.menuSelected == 3 ? 'dropdown_open' : 'dropdown_close'" ng-show="c.data.menuSelected == 3">
    <div class="dropdown-column">
      <div class="category-subcategory" ng-repeat="category in data.categories" ng-init="parentIndex = $index" ng-if="category.show && category.catalog_display != 'CSC'">
        <div class="category" ng-click="c.showAll(category)">
          {{category.title}}
          <img class="arrow-size" src="GS_Seta_TEC.png" ng-class="category.showAll ? '' : 'invert-arrow'"/>
        </div>
        <div ng-repeat="secCategory in category.secondCategories" ng-if="category.showAll && secCategory.showSec">
          <div ng-class="secCategory.selected ? 'category-selected' : 'subcategory'" ng-click="c.selectedSecondCategory(category, secCategory, parentIndex)">{{secCategory.title}}</div>
        </div>
      </div>
      
      <div class="separate_services"></div>
      
      <div class="category-subcategory" ng-repeat="category in data.categories" ng-init="parentIndex = $index" ng-if="category.show && category.catalog_display == 'CSC'">
        <div class="category" ng-click="c.showAll(category)">
          {{category.title}}
          <img class="arrow-size" src="GS_Seta_TEC.png" ng-class="category.showAll ? '' : 'invert-arrow'"/>
        </div>
        <div ng-repeat="secCategory in category.secondCategories" ng-if="category.showAll && secCategory.showSec">
          <div ng-class="secCategory.selected ? 'category-selected' : 'subcategory'" ng-click="c.selectedSecondCategory(category, secCategory, parentIndex)">{{secCategory.title}}</div>
        </div>
      </div>
    </div>

    <div class="dropdown-column dropdown-column2" ng-if="data.thirdCategories">
      <div ng-repeat="thirdCategory in data.thirdCategories" ng-if="thirdCategory.show">
        <div ng-class="thirdCategory.selected ? 'category-selected' : 'subcategory'" ng-click="c.selectedThirdCategory(thirdCategory)">{{thirdCategory.title}}</div>
      </div>
    </div>

    <div class="dropdown-column dropdown-column2" ng-if="data.showItems">
      <div ng-repeat="item in data.items" ng-if="item.show">
        <div class="subcategory" ng-click="c.showItem(item.sys_id)">{{item.title}}</div>
      </div>
    </div>
  </div>

  <!-- Tire Dúvidas -->
  <div class="dropdown-third-item" ng-class="c.data.menuSelected == 5 ? 'dropdown_open' : 'dropdown_close'" ng-show="c.data.menuSelected == 5">
    <div class="dropdown-column">
      <div class="category-subcategory" ng-repeat="category in data.kb_categories" ng-if="category.title == ' GLOBO SERVICE' || category.sc_catalog == 'TI'">
        <div class="category category_kb" ng-click="c.showAllKB(category)">
          {{category.title}}
          <img class="arrow-size" src="GService_Seta_IS.png" ng-class="category.showAll ? '' : 'invert-arrow'"/>
        </div>
        <div ng-repeat="secCategory in category.secondCategories | filter:{hasArticles : true}" ng-if="category.showAll">
          <div class="subcategory_kb" ng-click="c.toKnowledge(secCategory.sys_id)">{{secCategory.title}}</div>
        </div>
      </div>

      <div class="separate_doubts"></div>

      <div class="category-subcategory" ng-repeat="category in data.kb_categories" ng-if="category.sc_catalog == 'CSC'">
        <div class="category category_kb" ng-click="c.showAllKB(category)">
          {{category.title}}
          <img class="arrow-size" src="GService_Seta_IS.png" ng-class="category.showAll ? '' : 'invert-arrow'"/>
        </div>
        <div ng-repeat="secCategory in category.secondCategories | filter:{hasArticles : true}" ng-if="category.showAll">
          <div class="subcategory_kb" ng-click="c.toKnowledge(secCategory.sys_id)">{{secCategory.title}}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- NAV -->
  <div class="content_nav">
    <nav id="header-navbar" class="navbar-inverse" ng-class="::{'navbar':!isViewNative, 'is-native': isViewNative}"role="navigation">
      <div ng-show="::!isViewNative" class="navbar-header">
        <a class="navbar-brand" ng-if="::!portal.logo" href="?id={{::portal.homepage_dv}}">
          <span ng-bind="portal.title"></span>
        </a>
        <a class="navbar-brand navbar-brand-logo" ng-if="::portal.logo" ng-href="?id={{::portal.homepage_dv}}" ng-click="collapse()" aria-label="${Go to homepage}">
          <img ng-src="{{::portal.logo}}" title="ServiceNow" role="presentation" alt="${Portal Logo}" />
        </a>
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sp-nav-bar">
          <span class="sr-only">${Toggle navigation}</span>
          <div class="context_menu">
            <div></div>
            <div></div>
            <div></div>
          </div>
          <!--<span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>-->
        </button>
      </div>

      <div sp-navbar-toggle="" class="collapse navbar-right" id="sp-nav-bar">
        <!-- Include The Menu -->
        <sp-widget widget="::data.menu"></sp-widget>
        <ul ng-if="(!user.logged_in && page.id != portal.login_page_dv && !data.hasLogin)" class="nav navbar-nav" role="presentation">
          <li role="presentation"><a href ng-click="::openLogin()">${Login}</a></li>
        </ul>
        
        <ul ng-if="user.logged_in" class="nav navbar-nav content-avatar" role="menubar">
          
          <!-- chat, avatar, and logout -->
          <li ng-if="::(data.connect_support_queue_id && !isAgentChatConfigured)" role="presentation"><a href ng-click="openPopUp()" role="menuitem">${Live Chat}</a></li>
          <li ng-if="showXSAvatar" class="visible-xs-block" role="presentation"><a role="menuitem" ng-href="?id=user_profile&sys_id={{::user.sys_id}}" ng-click="collapse()">
            <span class="navbar-avatar"><sn-avatar class="avatar-small-medium" primary="avatarProfile" /></span>{{::user.name}}</a>
          </li>
          <li ng-if="::!(isViewNative || isViewNativeTablet)" class="visible-xs-block" role="presentation"><a role="menuitem" ng-href="{{::portal.logoutUrl}}" ng-click="collapse()">${Logout}</a></li>
        </ul>
      </div>
    </nav>
  </div>
</div>

<div class="mobile_message" ng-if="false"> <!-- data.device == 'm' -->
  <img class="mobile_service_icon" src="mobile_service_icon.png" />
  <div class="message_title">Esse portal não foi configurado para uso mobile.</div>
  <div class="message no_margin">Recomendamos que você acesse ele pela versão desktop ou baixe o app Now Mobile para o seu celular.</div>
  <div class="message">Disponível gratuitamente na App Store e no Google Play.</div>
  <img class="mobile_service_logos" src="mobile_service_logos.png" />  
  <div class="message">Todos os usuários da Globo têm acesso ao aplicativo que foi configurado para uma experiência similar ao portal desktop.</div>
</div>

<div ng-if="data.show_survey">
  <sp-widget widget="data.gserviceSurvey"></sp-widget>
</div>]]></template>
    </sp_header_footer>
</record_update>
